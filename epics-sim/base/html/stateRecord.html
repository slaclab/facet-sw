<?xml version='1.0' encoding='UTF-8'?>
<!DOCTYPE html PUBLIC '-//W3C//DTD XHTML 1.0 Transitional//EN'
     'http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd'>

<html>
<head>
<title>State&#x20;Record&#x20;(state)</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<link rel='stylesheet' href='style.css' type='text/css'>
</head>
<body>


<div class="pod">

<h1 id="State-Record-state">State Record (state)</h1>

<p>The state record is a means for a state program to communicate with the operator interface. Its only function is to provide a place in the database through which the state program can inform the operator interface of its state by storing an arbitrary ASCII string in its VAL field.</p>

<p><b>Note this record is deprecated and may be removed in a future EPICS release.</b></p>

<h2 id="Parameter-Fields">Parameter Fields</h2>

<p>The record-specific fields are described below, grouped by functionality.</p>

<h3 id="Scan-Parameters">Scan Parameters</h3>

<p>The state record has the standard fields for specifying under what circumstances it will be processed. These fields are listed in <a href="#Scan-Fields">&quot;Scan Fields&quot;</a>. In addition, <a href="#Scanning-Specification">&quot;Scanning Specification&quot;</a> explains how these fields are used.</p>

<h3 id="Operator-Display-Parameters">Operator Display Parameters</h3>

<p>See <a href="#Fields-Common-to-All-Record-Types">&quot;Fields Common to All Record Types&quot;</a> for more on the record name (NAME) and description (DESC) fields.</p>

<blockquote><table border="1"><tr>
<th>Field</th><th>Summary</th><th>Type</th><th>DCT</th>
<th>Default</th><th>Read</th><th>Write</th><th>CA PP</th>
</tr>
<tr><td class="cell">NAME</td><td class="cell">Record Name</td><td class="cell">STRING [61]</td><td class="cell">No</td><td class="cell">&nbsp;</td><td class="cell">Yes</td><td class="cell">No</td><td class="cell">No</td></tr>

<tr><td class="cell">DESC</td><td class="cell">Descriptor</td><td class="cell">STRING [41]</td><td class="cell">Yes</td><td class="cell">&nbsp;</td><td class="cell">Yes</td><td class="cell">Yes</td><td class="cell">No</td></tr>

</table></blockquote>

<h3 id="Alarm-Parameters">Alarm Parameters</h3>

<p>The state record has the alarm parameters common to all record types. <a href="#Alarm-Fields">&quot;Alarm Fields&quot;</a> lists other fields related to a alarms that are common to all record types.</p>

<h3 id="Run-time-Parameters">Run-time Parameters</h3>

<p>These parameters are used by the application code to convey the state of the program to the operator interface. The VAL field holds the string retrieved from the state program. The OVAL is used to implement monitors for the VAL field. When the string in OVAL differs from the one in VAL, monitors are triggered. They represent the current state of the sequence program.</p>

<blockquote><table border="1"><tr>
<th>Field</th><th>Summary</th><th>Type</th><th>DCT</th>
<th>Default</th><th>Read</th><th>Write</th><th>CA PP</th>
</tr>
<tr><td class="cell">VAL</td><td class="cell">Value</td><td class="cell">STRING [20]</td><td class="cell">Yes</td><td class="cell">&nbsp;</td><td class="cell">Yes</td><td class="cell">Yes</td><td class="cell">Yes</td></tr>

<tr><td class="cell">OVAL</td><td class="cell">Prev Value</td><td class="cell">STRING [20]</td><td class="cell">No</td><td class="cell">&nbsp;</td><td class="cell">Yes</td><td class="cell">No</td><td class="cell">No</td></tr>

</table></blockquote>

<h2 id="Record-Support">Record Support</h2>

<h3 id="Record-Support-Routines">Record Support Routines</h3>

<h4 id="process">process</h4>

<pre><code>  long (*process)(struct dbCommon *precord)</code></pre>

<p><code>process()</code> triggers monitors on VAL when it changes and scans the forward link if necessary.</p>

</div>

</body>
</html>

